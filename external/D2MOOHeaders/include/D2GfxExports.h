
#pragma once

#include <D2Gfx.h>
#include <cstdint>

#include <Drlg/D2DrlgDrlg.h>
#include <D2StatList.h>
#include <Units/UnitFinds.h>

struct D2GfxAnimImageStrc;
struct D2CellFileStrc;
struct D2CompositeUnitStrc;
struct D2GfxEditBoxStrc;
struct Unicode;
enum DrawMode;
enum Font;
struct D2SplittedTextStrc;
struct D2GfxListStrc;
struct SMSGHANDLER_PARAMS;
struct D2GfxControlStrc;
struct D2GfxControlInitStrc;
struct D2ShadowLightGammaPaletteStrc;
struct D2GfxScrollBarStrc;
struct D2GfxTextBoxStrc;
struct D2GfxTimerStrc;

void InitD2GfxExports();

using D2UnitGUID = uint32_t;
typedef int32_t (__stdcall *D2Gfx_ReturnFalse_10002_t)();
typedef int32_t (__stdcall *D2Gfx_Release_10001_t)();
typedef DisplayType (__stdcall *D2Gfx_GetDisplayType_10003_t)();
typedef int32_t (__stdcall *D2Gfx_CheckWindowed_10004_t)();
typedef D2GameResolutionMode (__stdcall *D2Gfx_GetResolutionMode_10005_t)();
typedef int32_t (__stdcall *D2Gfx_CheckUnitPerspective_10007_t)();
typedef void (__stdcall *D2Gfx_SetUnitPerspective_10008_t)(int32_t bPerspective);
typedef int32_t (__stdcall *D2Gfx_HardwareAcceleratedRenderMode_10047_t)();
typedef int32_t (__stdcall *D2Gfx_TogglePerspective_10009_t)();
typedef int32_t (__stdcall *D2Gfx_CheckPerspective_10010_t)();
typedef void (__stdcall *D2Gfx_SetPerspective_10011_t)(int32_t bPerspective);
typedef int32_t (__stdcall *D2Gfx_ToggleBlendedShadows_10012_t)();
typedef int32_t (__stdcall *D2Gfx_CheckBlendedShadows_10013_t)();
typedef void (__stdcall *D2Gfx_SetBlendShadows_10014_t)(int32_t bBlendedShadows);
typedef int32_t (__stdcall *D2Gfx_ToggleLowQuality_10015_t)();
typedef int32_t (__stdcall *D2Gfx_CheckLowQuality_10016_t)();
typedef void (__stdcall *D2Gfx_SetLowQuality_10017_t)(int32_t bLowQuality);
typedef int32_t (__stdcall *D2Gfx_SetGamma_10018_t)(uint32_t dwGamma);
typedef int32_t (__stdcall *D2Gfx_GammaCanBeControlled_10019_t)();
typedef void (__stdcall *D2Gfx_EnableVSync_10020_t)();
typedef uint32_t* (__stdcall *D2Gfx_GetCacheResults_10021_t)();
typedef void (__fastcall *D2Gfx_SetViewMatrixAdjust_10022_t)(int32_t nAdjust);
typedef int32_t (__fastcall *D2Gfx_SetOption_10042_t)(int32_t nOption, int32_t nValue);
typedef int32_t (__stdcall *D2Gfx_StartDraw_10044_t)(int32_t bClear, uint8_t nRed, uint8_t nGreen, uint8_t nBlue);
typedef int32_t (__stdcall *D2Gfx_EndScene_10045_t)();
typedef int32_t (__stdcall *D2Gfx_GetBackBuffer_10046_t)(uint8_t* pBuffer);
typedef void (__stdcall *D2Gfx_UtilDiamond_10051_t)(RECT* pRect, uint8_t nPaletteIndex);
typedef void (__stdcall *D2Gfx_UtilRect_10052_t)(RECT* pRect, uint8_t nPaletteIndex);
typedef void (__stdcall *D2Gfx_UtilFilledRect_10053_t)(RECT* pRect, uint8_t nPaletteIndex);
typedef void (__stdcall *D2Gfx_UtilPoint_10054_t)(POINT* pPoint, uint8_t nSize, uint8_t nPaletteIndex);
typedef void (__stdcall *D2Gfx_DrawBox_10055_t)(int32_t nXStart, int32_t nYStart, int32_t nXEnd, int32_t nYEnd, uint32_t dwColor, DrawMode eDrawMode);
typedef void (__stdcall *D2Gfx_DrawBoxAlpha_10056_t)(int32_t nXStart, int32_t nYStart, int32_t nXEnd, int32_t nYEnd, uint32_t dwColor, uint8_t nAlpha);
typedef void (__stdcall *D2Gfx_DrawLine_10057_t)(int32_t nXStart, int32_t nYStart, int32_t nXEnd, int32_t nYEnd, uint8_t nColor, uint8_t nAlpha);
typedef void (__stdcall *D2Gfx_ClearScreen_10058_t)(int32_t bPartial);
typedef BOOL (__stdcall *D2Gfx_FloorTileDraw_10079_t)(D2TileLibraryEntryStrc* pTile, D2GfxLightExStrc* pLight, int32_t nXPos, int32_t nYPos, int32_t nWorldXpos, int32_t nWorldYpos, uint8_t nAlpha, int32_t nScreenPanels, void* pTileData);
typedef void (__stdcall *D2Gfx_SetPalette_10048_t)(PALETTEENTRY* pPalette);
typedef void (__stdcall *D2Gfx_SetPaletteTables_10049_t)(D2PaletteTableStrc* pPaletteTables);
typedef void (__stdcall *D2Gfx_SetAmbientColor_10050_t)(uint8_t nRed, uint8_t nGreen, uint8_t nBlue);
typedef void (__cdecl *D2Gfx_OutputString_10069_t)(int32_t nXPos, int32_t nYPos, const char* szFormat, ...);
typedef void (__stdcall *D2Gfx_DebugDraw_10070_t)(uint32_t* pLight, uint32_t* pPlayerLight, int32_t nXPos, int32_t nYPos);
typedef int32_t (__stdcall *D2Gfx_SCALE_GetFactor_10060_t)();
typedef void (__stdcall *D2Gfx_SCALE_SetDefaultFactor_10061_t)();
typedef void (__stdcall *D2Gfx_SCALE_IncreaseFactor_10062_t)();
typedef void (__stdcall *D2Gfx_SCALE_DecreaseFactor_10063_t)();
typedef void (__stdcall *D2Gfx_SCALE_SetPerspectiveScale_10064_t)(int32_t nXScale, int32_t nYScale);
typedef int32_t (__stdcall *D2Gfx_SCALE_CheckPerspectivePosition_10065_t)(int32_t nXPos, int32_t nYPos);
typedef void (__stdcall *D2Gfx_SCALE_AdjustPerspectivePosition_10066_t)(int32_t nXPos, int32_t nYPos, int32_t nBais, int32_t* pXAdjust, int32_t* pYAdjust);
typedef void (__stdcall *D2Gfx_SCALE_ScalePerspectivePosition_10067_t)(int32_t nXPos, int32_t nYPos, int32_t nAngle, int32_t* pXAdjust, int32_t* pYAdjust, int32_t bOrder);
typedef void (__stdcall *D2Gfx_SCALE_SetDefaultFactorPerspectiveFactor_10068_t)();
typedef void (__stdcall *D2Gfx_TEXTURE_CelDraw_10072_t)(D2GfxDataStrc* pData, int32_t nXPos, int32_t nYPos, uint32_t dwGamma, DrawMode eDrawMode, uint8_t* pPalette);
typedef void (__stdcall *D2Gfx_TEXTURE_CelDrawColor_10073_t)(D2GfxDataStrc* pData, int32_t nXPos, int32_t nYPos, uint32_t dwGamma, DrawMode eDrawMode, int32_t nGlobalPaletteShift);
typedef void (__stdcall *D2Gfx_TEXTURE_CelDrawEx_10074_t)(D2GfxDataStrc* pData, int32_t nXPos, int32_t nYPos, int32_t nSkipLines, int32_t nDrawLines, DrawMode eDrawMode);
typedef void (__stdcall *D2Gfx_TEXTURE_CelDrawClipped_10077_t)(D2GfxDataStrc* pData, int32_t nXPos, int32_t nYPos, void* pCropRect, DrawMode eDrawMode);
typedef void (__stdcall *D2Gfx_TEXTURE_CelDrawShadow_10075_t)(D2GfxDataStrc* pData, int32_t nXPos, int32_t nYPos);
typedef void (__stdcall *D2Gfx_TEXTURE_CelDrawHilight_10076_t)(D2GfxDataStrc* pData, int32_t nXPos, int32_t nYPos, uint8_t nPaletteIndex);
typedef void (__stdcall *D2Gfx_TEXTURE_DebugFillBackBuffer_10078_t)(int32_t nXPos, int32_t nYPos);
typedef int32_t (__stdcall *D2Gfx_TILE_TileDrawTrans_10081_t)(D2TileLibraryEntryStrc* pTile, int32_t nXPos, int32_t nYPos, D2GfxLightStrc* pLight, int32_t nScreenPanels, uint8_t nAlpha);
typedef int32_t (__stdcall *D2Gfx_TILE_ShadowTileDraw_10082_t)(D2TileLibraryEntryStrc* pTile, int32_t nXPos, int32_t nYPos, int32_t nDrawMode, int32_t nScreenPanels);
typedef int32_t (__stdcall *D2Gfx_WINDOW_Destroy_10024_t)();
typedef void (__stdcall *D2Gfx_WINDOW_SetPaused_10025_t)(int32_t bPaused);
typedef int32_t (__stdcall *D2Gfx_WINDOW_GetState_10026_t)();
typedef HWND (__stdcall *D2Gfx_WINDOW_GetWindow_10027_t)();
typedef int32_t (__stdcall *D2Gfx_WINDOW_GetDimensions_10041_t)(int32_t* pWidth, int32_t* pHeight);
typedef void (__stdcall *D2Gfx_WINDOW_ShowCursor_10029_t)(int32_t bShow);
typedef int32_t (__stdcall *D2Gfx_WINDOW_IsFullScreen_10028_t)();
typedef int32_t (__stdcall *D2Gfx_WINDOW_Activate_10043_t)(int32_t bActive);
typedef int32_t (__stdcall *D2Gfx_WINDOW_Resize_10030_t)(D2GameResolutionMode nResolution, int32_t bForceResize);
typedef void (__stdcall *D2Gfx_WINDOW_ClearCaches_10031_t)();
typedef void (__stdcall *D2Gfx_WINDOW_PlayCutscene_10032_t)();
typedef void (__stdcall *D2Gfx_WINDOW_EndCutScene_10033_t)(D2GameResolutionMode nResolution);
typedef void (__stdcall *D2Gfx_WINDOW_OpenSmackCutscene_10034_t)(const char* szFile, D2GameResolutionMode nResolution, void(__cdecl* pfFrame)());
typedef int32_t (__stdcall *D2Gfx_WINDOW_CheckCutScene_10035_t)();
typedef void (__stdcall *D2Gfx_WINDOW_DecodeSmacker_10036_t)(const char* szSmacker, uint8_t* pBuffer, int32_t nVersion);
typedef void (__stdcall *D2Gfx_WINDOW_PlaySmacker_10037_t)(void* pContext);
typedef void (__stdcall *D2Gfx_WINDOW_CloseSmacker_10038_t)(void* pContext);
typedef void (__stdcall *D2Gfx_WINDOW_UpdatePlacement_10039_t)();
typedef void (__stdcall *D2Gfx_WINDOW_ShowAll_10040_t)();

extern D2Gfx_ReturnFalse_10002_t D2Gfx_ReturnFalse_10002;
extern D2Gfx_Release_10001_t D2Gfx_Release_10001;
extern D2Gfx_GetDisplayType_10003_t D2Gfx_GetDisplayType_10003;
extern D2Gfx_CheckWindowed_10004_t D2Gfx_CheckWindowed_10004;
extern D2Gfx_GetResolutionMode_10005_t D2Gfx_GetResolutionMode_10005;
extern D2Gfx_CheckUnitPerspective_10007_t D2Gfx_CheckUnitPerspective_10007;
extern D2Gfx_SetUnitPerspective_10008_t D2Gfx_SetUnitPerspective_10008;
extern D2Gfx_HardwareAcceleratedRenderMode_10047_t D2Gfx_HardwareAcceleratedRenderMode_10047;
extern D2Gfx_TogglePerspective_10009_t D2Gfx_TogglePerspective_10009;
extern D2Gfx_CheckPerspective_10010_t D2Gfx_CheckPerspective_10010;
extern D2Gfx_SetPerspective_10011_t D2Gfx_SetPerspective_10011;
extern D2Gfx_ToggleBlendedShadows_10012_t D2Gfx_ToggleBlendedShadows_10012;
extern D2Gfx_CheckBlendedShadows_10013_t D2Gfx_CheckBlendedShadows_10013;
extern D2Gfx_SetBlendShadows_10014_t D2Gfx_SetBlendShadows_10014;
extern D2Gfx_ToggleLowQuality_10015_t D2Gfx_ToggleLowQuality_10015;
extern D2Gfx_CheckLowQuality_10016_t D2Gfx_CheckLowQuality_10016;
extern D2Gfx_SetLowQuality_10017_t D2Gfx_SetLowQuality_10017;
extern D2Gfx_SetGamma_10018_t D2Gfx_SetGamma_10018;
extern D2Gfx_GammaCanBeControlled_10019_t D2Gfx_GammaCanBeControlled_10019;
extern D2Gfx_EnableVSync_10020_t D2Gfx_EnableVSync_10020;
extern D2Gfx_GetCacheResults_10021_t D2Gfx_GetCacheResults_10021;
extern D2Gfx_SetViewMatrixAdjust_10022_t D2Gfx_SetViewMatrixAdjust_10022;
extern D2Gfx_SetOption_10042_t D2Gfx_SetOption_10042;
extern D2Gfx_StartDraw_10044_t D2Gfx_StartDraw_10044;
extern D2Gfx_EndScene_10045_t D2Gfx_EndScene_10045;
extern D2Gfx_GetBackBuffer_10046_t D2Gfx_GetBackBuffer_10046;
extern D2Gfx_UtilDiamond_10051_t D2Gfx_UtilDiamond_10051;
extern D2Gfx_UtilRect_10052_t D2Gfx_UtilRect_10052;
extern D2Gfx_UtilFilledRect_10053_t D2Gfx_UtilFilledRect_10053;
extern D2Gfx_UtilPoint_10054_t D2Gfx_UtilPoint_10054;
extern D2Gfx_DrawBox_10055_t D2Gfx_DrawBox_10055;
extern D2Gfx_DrawBoxAlpha_10056_t D2Gfx_DrawBoxAlpha_10056;
extern D2Gfx_DrawLine_10057_t D2Gfx_DrawLine_10057;
extern D2Gfx_ClearScreen_10058_t D2Gfx_ClearScreen_10058;
extern D2Gfx_FloorTileDraw_10079_t D2Gfx_FloorTileDraw_10079;
extern D2Gfx_SetPalette_10048_t D2Gfx_SetPalette_10048;
extern D2Gfx_SetPaletteTables_10049_t D2Gfx_SetPaletteTables_10049;
extern D2Gfx_SetAmbientColor_10050_t D2Gfx_SetAmbientColor_10050;
extern D2Gfx_OutputString_10069_t D2Gfx_OutputString_10069;
extern D2Gfx_DebugDraw_10070_t D2Gfx_DebugDraw_10070;
extern D2Gfx_SCALE_GetFactor_10060_t D2Gfx_SCALE_GetFactor_10060;
extern D2Gfx_SCALE_SetDefaultFactor_10061_t D2Gfx_SCALE_SetDefaultFactor_10061;
extern D2Gfx_SCALE_IncreaseFactor_10062_t D2Gfx_SCALE_IncreaseFactor_10062;
extern D2Gfx_SCALE_DecreaseFactor_10063_t D2Gfx_SCALE_DecreaseFactor_10063;
extern D2Gfx_SCALE_SetPerspectiveScale_10064_t D2Gfx_SCALE_SetPerspectiveScale_10064;
extern D2Gfx_SCALE_CheckPerspectivePosition_10065_t D2Gfx_SCALE_CheckPerspectivePosition_10065;
extern D2Gfx_SCALE_AdjustPerspectivePosition_10066_t D2Gfx_SCALE_AdjustPerspectivePosition_10066;
extern D2Gfx_SCALE_ScalePerspectivePosition_10067_t D2Gfx_SCALE_ScalePerspectivePosition_10067;
extern D2Gfx_SCALE_SetDefaultFactorPerspectiveFactor_10068_t D2Gfx_SCALE_SetDefaultFactorPerspectiveFactor_10068;
extern D2Gfx_TEXTURE_CelDraw_10072_t D2Gfx_TEXTURE_CelDraw_10072;
extern D2Gfx_TEXTURE_CelDrawColor_10073_t D2Gfx_TEXTURE_CelDrawColor_10073;
extern D2Gfx_TEXTURE_CelDrawEx_10074_t D2Gfx_TEXTURE_CelDrawEx_10074;
extern D2Gfx_TEXTURE_CelDrawClipped_10077_t D2Gfx_TEXTURE_CelDrawClipped_10077;
extern D2Gfx_TEXTURE_CelDrawShadow_10075_t D2Gfx_TEXTURE_CelDrawShadow_10075;
extern D2Gfx_TEXTURE_CelDrawHilight_10076_t D2Gfx_TEXTURE_CelDrawHilight_10076;
extern D2Gfx_TEXTURE_DebugFillBackBuffer_10078_t D2Gfx_TEXTURE_DebugFillBackBuffer_10078;
extern D2Gfx_TILE_TileDrawTrans_10081_t D2Gfx_TILE_TileDrawTrans_10081;
extern D2Gfx_TILE_ShadowTileDraw_10082_t D2Gfx_TILE_ShadowTileDraw_10082;
extern D2Gfx_WINDOW_Destroy_10024_t D2Gfx_WINDOW_Destroy_10024;
extern D2Gfx_WINDOW_SetPaused_10025_t D2Gfx_WINDOW_SetPaused_10025;
extern D2Gfx_WINDOW_GetState_10026_t D2Gfx_WINDOW_GetState_10026;
extern D2Gfx_WINDOW_GetWindow_10027_t D2Gfx_WINDOW_GetWindow_10027;
extern D2Gfx_WINDOW_GetDimensions_10041_t D2Gfx_WINDOW_GetDimensions_10041;
extern D2Gfx_WINDOW_ShowCursor_10029_t D2Gfx_WINDOW_ShowCursor_10029;
extern D2Gfx_WINDOW_IsFullScreen_10028_t D2Gfx_WINDOW_IsFullScreen_10028;
extern D2Gfx_WINDOW_Activate_10043_t D2Gfx_WINDOW_Activate_10043;
extern D2Gfx_WINDOW_Resize_10030_t D2Gfx_WINDOW_Resize_10030;
extern D2Gfx_WINDOW_ClearCaches_10031_t D2Gfx_WINDOW_ClearCaches_10031;
extern D2Gfx_WINDOW_PlayCutscene_10032_t D2Gfx_WINDOW_PlayCutscene_10032;
extern D2Gfx_WINDOW_EndCutScene_10033_t D2Gfx_WINDOW_EndCutScene_10033;
extern D2Gfx_WINDOW_OpenSmackCutscene_10034_t D2Gfx_WINDOW_OpenSmackCutscene_10034;
extern D2Gfx_WINDOW_CheckCutScene_10035_t D2Gfx_WINDOW_CheckCutScene_10035;
extern D2Gfx_WINDOW_DecodeSmacker_10036_t D2Gfx_WINDOW_DecodeSmacker_10036;
extern D2Gfx_WINDOW_PlaySmacker_10037_t D2Gfx_WINDOW_PlaySmacker_10037;
extern D2Gfx_WINDOW_CloseSmacker_10038_t D2Gfx_WINDOW_CloseSmacker_10038;
extern D2Gfx_WINDOW_UpdatePlacement_10039_t D2Gfx_WINDOW_UpdatePlacement_10039;
extern D2Gfx_WINDOW_ShowAll_10040_t D2Gfx_WINDOW_ShowAll_10040;
